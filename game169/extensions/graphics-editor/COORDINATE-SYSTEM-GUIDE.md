# Graphics Editor - 坐標系統快速參考

## 🎯 功能更新 (v1.1.0)

### 新增功能
✅ **背景圖片載入** - 使用設計稿作為繪圖參考  
✅ **坐標系統選擇** - 支援三種坐標原點模式  
✅ **實時坐標顯示** - Canvas ↔ Cocos 坐標實時轉換  
✅ **網格參考線** - 50px 間距網格 + 坐標刻度  
✅ **自定義畫布尺寸** - 100px ~ 2000px  

---

## 📐 坐標系統說明

### 1. 左下 (Cocos 預設) ⭐ 推薦

```
Y ↑
  |
  |
  +----→ X
(0,0)
```

- **原點**: 左下角
- **X 軸**: 向右為正
- **Y 軸**: 向上為正
- **適用**: 與 Cocos Creator 預設坐標一致，最常用

### 2. 中心 (0,0)

```
    Y ↑
      |
-X ←--+--→ +X
      |
      ↓ -Y
   (0,0)
```

- **原點**: 畫布中心
- **X 軸**: 左負右正
- **Y 軸**: 下負上正
- **適用**: 對稱圖形、需要以中心為基準的設計

### 3. 左上

```
(0,0)
  +----→ X
  |
  |
  ↓ Y
```

- **原點**: 左上角
- **X 軸**: 向右為正
- **Y 軸**: 向下為正（注意：向下！）
- **適用**: 從傳統 UI 設計稿轉換

---

## 🖼️ 使用背景圖片工作流程

### 步驟 1: 準備設計稿
```
✓ 支援格式: PNG, JPG, JPEG, WEBP
✓ 建議尺寸: 與實際遊戲 UI 尺寸一致
✓ 包含關鍵坐標標註
```

### 步驟 2: 設置畫布
```typescript
1. 點擊「載入背景」載入設計稿
2. 設置畫布尺寸 = 設計稿實際尺寸
   例如: 1920 x 1080
3. 點擊「應用尺寸」
4. 選擇坐標系統 = 「左下」(與 Cocos 一致)
5. 勾選「顯示網格」
```

### 步驟 3: 繪製並記錄坐標
```typescript
1. 滑鼠移動到設計稿關鍵位置
2. 右下角顯示實時坐標：
   Canvas: (100, 200) → Cocos: (100, 880)
3. 使用繪圖工具標記關鍵區域
4. 生成代碼會自動包含正確的 Cocos 坐標
```

---

## 🎨 實際範例

### 範例 1: UI 框架繪製

**場景**: 繪製一個底部導航欄背景框

```typescript
// 設置
畫布尺寸: 1920 x 1080
坐標系統: 左下 (Cocos 預設)
背景圖片: UI_design.png

// 在編輯器中繪製
工具: 矩形
Canvas 位置: (0, 0) → (1920, 200)
Cocos 坐標: (0, 880) → (1920, 1080)

// 生成的代碼
g.rect(0, 880, 1920, 200);
g.fill();
```

### 範例 2: 對稱圖標

**場景**: 繪製一個居中的圓形按鈕

```typescript
// 設置
畫布尺寸: 600 x 400
坐標系統: 中心 (0,0)

// 在編輯器中繪製
工具: 圓形
Canvas 位置: (300, 200) - 半徑 50
Cocos 坐標: (0, 0) - 半徑 50

// 生成的代碼
g.circle(0, 0, 50);
g.fill();
```

---

## 🔧 坐標轉換公式

### Canvas → Cocos 坐標轉換

#### 左下坐標系
```javascript
cocosX = canvasX
cocosY = canvasHeight - canvasY
```

#### 中心坐標系
```javascript
cocosX = canvasX - (canvasWidth / 2)
cocosY = (canvasHeight / 2) - canvasY
```

#### 左上坐標系
```javascript
cocosX = canvasX
cocosY = -canvasY
```

**注意**: 擴展會自動處理轉換，無需手動計算！

---

## 💡 最佳實踐

### ✅ DO 推薦做法

1. **使用背景圖片** - 載入設計稿作為參考
2. **選擇左下坐標系** - 與 Cocos Creator 預設一致
3. **開啟網格** - 幫助精確對齊
4. **查看實時坐標** - 滑鼠移動時確認位置
5. **記錄關鍵坐標** - 在設計稿上標註重要位置

### ❌ DON'T 避免做法

1. ~~混用不同坐標系統~~ - 容易造成混亂
2. ~~忽略畫布尺寸~~ - 與實際項目不符
3. ~~不看實時坐標~~ - 無法確認精確位置
4. ~~盲目繪製~~ - 沒有參考背景圖片

---

## 🚀 快速開始（5分鐘）

```bash
# 1. 準備設計稿
my_ui_design.png (1920x1080)

# 2. 打開擴展
Cocos Creator → 擴展 → Graphics Editor

# 3. 快速設置
載入背景 → 選擇 my_ui_design.png
畫布尺寸 → 1920 x 1080 → 應用尺寸
坐標系統 → 左下 (Cocos 預設)
顯示網格 → ✓

# 4. 開始繪製
選擇工具 → 矩形/圓形/線條
在設計稿上繪製關鍵區域
查看實時坐標確認位置

# 5. 導出代碼
導出為 TypeScript 腳本 → 保存
複製到項目 assets/script/
在場景中使用
```

---

## 📊 坐標對照表

### 1920x1080 畫布 (左下坐標系)

| Canvas 位置 | Cocos 坐標 | 說明 |
|------------|-----------|------|
| (0, 0) | (0, 1080) | 左上角 |
| (1920, 0) | (1920, 1080) | 右上角 |
| (0, 1080) | (0, 0) | 左下角 ⭐ 原點 |
| (1920, 1080) | (1920, 0) | 右下角 |
| (960, 540) | (960, 540) | 中心 |

### 600x400 畫布 (中心坐標系)

| Canvas 位置 | Cocos 坐標 | 說明 |
|------------|-----------|------|
| (0, 0) | (-300, 200) | 左上角 |
| (600, 0) | (300, 200) | 右上角 |
| (0, 400) | (-300, -200) | 左下角 |
| (600, 400) | (300, -200) | 右下角 |
| (300, 200) | (0, 0) | 中心 ⭐ 原點 |

---

## 🎓 學習資源

- [Cocos Creator 坐標系統文檔](https://docs.cocos.com/creator/manual/zh/content-workflow/transform.html)
- [Graphics API 文檔](https://docs.cocos.com/creator/3.8/manual/zh/ui-system/components/editor/graphics.html)
- 本擴展完整文檔: `README.md`

---

**版本**: 1.1.0 (支援背景圖片與坐標系統)  
**更新日期**: 2025-10-27  
**Cocos Creator**: >= 3.8.0
