# 🎨 初始盤面編輯器 - 可視化配置詳解

## 📝 問題：如何配置 Reel 1-5？

**答案**：直接在 Cocos Creator 編輯器的屬性面板中編輯數值，**不是**輸入檔案路徑！

---

## 🎯 完整步驟圖解

### 步驟 1️⃣：創建節點（在 Hierarchy 視圖）

```
Cocos Creator 介面
├── 左側：Hierarchy（層級視圖）
│   ├── Canvas
│   │   ├── Background
│   │   ├── ReelController
│   │   └── [在這裡右鍵] → Create Empty Node
│   │       └── 新節點出現 → 重新命名為 "InitialBoardConfig"
│   
└── 右側：Inspector（屬性面板）
```

**操作**：
```
1. 在左側 Hierarchy 中找到 Canvas 節點
2. 右鍵 Canvas → Create → Empty Node
3. 新節點會出現，預設名稱可能是 "New Node"
4. 點擊節點，按 F2 或直接輸入，重新命名為 "InitialBoardConfig"
```

---

### 步驟 2️⃣：添加組件（在 Inspector 視圖）

```
Inspector 面板（右側）
┌─────────────────────────────────┐
│ Node: InitialBoardConfig        │  ← 確認節點名稱
├─────────────────────────────────┤
│ [Add Component] 按鈕            │  ← 點擊這裡
└─────────────────────────────────┘

點擊後會彈出組件選擇器
┌─────────────────────────────────┐
│ Add Component                   │
├─────────────────────────────────┤
│ 🔍 Search...                    │  ← 在搜尋框輸入
│    [InitialBoardConfig____]     │     "InitialBoardConfig"
├─────────────────────────────────┤
│ 搜尋結果：                      │
│ ✓ InitialBoardConfig            │  ← 點擊這個
└─────────────────────────────────┘
```

**操作**：
```
1. 選中 InitialBoardConfig 節點
2. 在右側 Inspector 面板找到 "Add Component" 按鈕
3. 點擊按鈕，彈出組件列表
4. 在搜尋框輸入 "InitialBoardConfig"
5. 從結果中點擊選擇
6. 組件自動添加到節點上
```

---

### 步驟 3️⃣：配置屬性（**重點！直接編輯數值**）

添加組件後，Inspector 面板會顯示組件的所有屬性：

```
┌─────────────────────────────────────────────┐
│ InitialBoardConfig                          │  ← 組件名稱
├─────────────────────────────────────────────┤
│                                             │
│ ▼ Data Source                               │  ← 下拉選單
│   ┌─────────────────────────────────────┐   │
│   │ ● EDITOR_CONFIG  ← 選這個！         │   │
│   │ ○ JSON_FILE                         │   │
│   │ ○ URL                               │   │
│   └─────────────────────────────────────┘   │
│                                             │
│ ☑ Auto Apply On Start                      │  ← 勾選框
│   自動在遊戲啟動時應用配置                  │
│                                             │
│ ☐ Only In Local Mode                       │  ← 勾選框
│   只在本地模式下啟用（可選）                │
│                                             │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│   盤面配置（Data Source = EDITOR_CONFIG 時  │
│   才會顯示這些屬性）                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                             │
│ ▼ Reel 1                                    │  ← 可展開的陣列
│   Size: 3  ← 固定 3 個元素                  │
│   ├─ Element 0: [8___]  ← 直接輸入數字！    │
│   ├─ Element 1: [2___]  ← 直接輸入數字！    │
│   └─ Element 2: [7___]  ← 直接輸入數字！    │
│                                             │
│ ▼ Reel 2                                    │
│   Size: 3                                   │
│   ├─ Element 0: [3___]                     │
│   ├─ Element 1: [7___]                     │
│   └─ Element 2: [2___]                     │
│                                             │
│ ▼ Reel 3                                    │
│   Size: 3                                   │
│   ├─ Element 0: [4___]                     │
│   ├─ Element 1: [6___]                     │
│   └─ Element 2: [5___]                     │
│                                             │
│ ▼ Reel 4                                    │
│   Size: 3                                   │
│   ├─ Element 0: [1___]                     │
│   ├─ Element 1: [6___]                     │
│   └─ Element 2: [9___]                     │
│                                             │
│ ▼ Reel 5                                    │
│   Size: 3                                   │
│   ├─ Element 0: [8___]                     │
│   ├─ Element 1: [2___]                     │
│   └─ Element 2: [8___]                     │
│                                             │
│ Player Balance: [1000000____]  ← 輸入框     │
│   玩家餘額（分為單位）                      │
│                                             │
│ Initial Credit: [0____]  ← 輸入框          │
│   初始積分                                  │
│                                             │
│ Description: [測試盤面_______]  ← 文字框    │
│   配置說明（僅供參考）                      │
│                                             │
│ ☑ Verbose                                  │  ← 勾選框
│   顯示詳細的調試日誌                        │
│                                             │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│   符號 ID 參考 (只讀，供參考)               │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                             │
│ _Symbol Reference:                          │
│   "請參考遊戲設計文檔"                      │
│                                             │
│   💡 滑鼠移到這裡會顯示工具提示：           │
│      1 = 鼓（Scatter）                     │
│      2 = 紅包                              │
│      3 = 金元寶                            │
│      4 = 銅錢                              │
│      5 = 扇子                              │
│      6 = A                                 │
│      7 = K                                 │
│      8 = Q                                 │
│      9 = J                                 │
│      10 = Wild（如果有）                   │
│                                             │
└─────────────────────────────────────────────┘
```

---

## 🖱️ 實際操作示範

### 配置 Reel 1: [8, 2, 7]

**方法 1：直接點擊數字框**
```
1. 找到 "Reel 1" 屬性
2. 點擊展開 "▼ Reel 1"
3. 看到 3 個輸入框：
   - Element 0: [____]  ← 點擊這裡
   - Element 1: [____]
   - Element 2: [____]
4. 游標會出現在輸入框中
5. 刪除原有數字（如果有）
6. 直接輸入 8
7. 按 Enter 或 Tab 跳到下一個
8. 輸入 2
9. 按 Enter 或 Tab
10. 輸入 7
11. 完成！
```

**方法 2：使用鍵盤導航**
```
1. 選中 InitialBoardConfig 節點
2. 按 Tab 鍵在屬性間跳轉
3. 找到 Reel 1 的第一個輸入框
4. 輸入數字
5. 按 Tab 跳到下一個
6. 重複操作
```

---

## 📊 配置範例對照

### 範例 1：乾淨起始盤面

**視覺化盤面**：
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 Q  | 金 | 錢 | 鼓 | Q   <- Row 1
 紅 | K  | A  | A  | 紅  <- Row 2
 K  | 紅 | 扇 | J  | Q   <- Row 3
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**編輯器配置**：
```
Reel 1: [8, 2, 7]  → 上Q(8)  中紅包(2)  下K(7)
Reel 2: [3, 7, 2]  → 上金元寶(3)  中K(7)  下紅包(2)
Reel 3: [4, 6, 5]  → 上銅錢(4)  中A(6)  下扇子(5)
Reel 4: [1, 6, 9]  → 上鼓(1)  中A(6)  下J(9)
Reel 5: [8, 2, 8]  → 上Q(8)  中紅包(2)  下Q(8)
```

**在編輯器中操作**：
```
┌─────────────────────────┐
│ Reel 1                  │
│   Size: 3               │
│   Element 0: [8]  ← 上  │
│   Element 1: [2]  ← 中  │
│   Element 2: [7]  ← 下  │
└─────────────────────────┘

┌─────────────────────────┐
│ Reel 2                  │
│   Size: 3               │
│   Element 0: [3]        │
│   Element 1: [7]        │
│   Element 2: [2]        │
└─────────────────────────┘

... 依此類推
```

---

### 範例 2：接近 Free Spin（2 個 Scatter）

**視覺化盤面**：
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 鼓 | 錢 | 鼓 | 紅 | 扇  <- Row 1 (2個Scatter!)
 紅 | 扇 | K  | 金 | A   <- Row 2
 金 | A  | Q  | 錢 | K   <- Row 3
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**編輯器配置**：
```
Reel 1: [1, 2, 3]  → 上鼓(1) Scatter!  中紅包(2)  下金元寶(3)
Reel 2: [4, 5, 6]  → 上銅錢(4)  中扇子(5)  下A(6)
Reel 3: [1, 7, 8]  → 上鼓(1) Scatter!  中K(7)  下Q(8)
Reel 4: [2, 3, 4]  → 上紅包(2)  中金元寶(3)  下銅錢(4)
Reel 5: [5, 6, 7]  → 上扇子(5)  中A(6)  下K(7)
```

**在編輯器中輸入**：
```
Reel 1: Element 0=[1]  Element 1=[2]  Element 2=[3]
Reel 2: Element 0=[4]  Element 1=[5]  Element 2=[6]
Reel 3: Element 0=[1]  Element 1=[7]  Element 2=[8]
Reel 4: Element 0=[2]  Element 1=[3]  Element 2=[4]
Reel 5: Element 0=[5]  Element 1=[6]  Element 2=[7]
```

---

## 🎯 其他配置方式對照

### 方式 1：編輯器直接配置（當前說明）

**Data Source 選擇**：`EDITOR_CONFIG`

**配置位置**：編輯器屬性面板的輸入框

**優點**：
- ✅ 最快速、最直觀
- ✅ 所見即所得
- ✅ 編輯器自動驗證
- ✅ 適合快速測試

**步驟**：
```
1. Data Source 選 EDITOR_CONFIG
2. 直接在下方輸入框輸入數字
3. 保存場景
4. 預覽遊戲
```

---

### 方式 2：從 JSON 檔案載入

**Data Source 選擇**：`JSON_FILE`

**配置位置**：選擇 Resources 中的 JSON 檔案

**屬性面板會顯示**：
```
┌─────────────────────────────────┐
│ Data Source: JSON_FILE          │
├─────────────────────────────────┤
│ Json Asset: [拖拽 JSON 檔案]    │  ← 拖拽或點擊選擇
│                                 │
│ 💡 從這裡選擇 JSON 檔案：        │
│    點擊選擇框 → 彈出檔案瀏覽器   │
│    → 選擇 JSON 檔案              │
│    → 或直接從 Assets 拖拽        │
└─────────────────────────────────┘
```

**操作**：
```
1. Data Source 選 JSON_FILE
2. 點擊 "Json Asset" 旁的選擇框
3. 從彈出的視窗選擇 JSON 檔案
4. 或從 Assets 視圖直接拖拽 JSON 檔案到這個欄位
5. 保存場景
6. 預覽遊戲
```

**注意**：這時候 Reel 1-5 的輸入框會**隱藏**，因為數據來自 JSON 檔案。

---

### 方式 3：從 URL 載入

**Data Source 選擇**：`URL`

**配置位置**：輸入 JSON 檔案的網址

**屬性面板會顯示**：
```
┌─────────────────────────────────────────────────┐
│ Data Source: URL                                │
├─────────────────────────────────────────────────┤
│ Json Url: [http://localhost:9000/initial_board.json]
│           ↑↑↑ 在這裡輸入完整的 URL 路徑         │
│                                                 │
│ 💡 範例：                                       │
│    http://localhost:9000/initial_board.json     │
│    http://localhost:9000/initial_board_wild.json│
└─────────────────────────────────────────────────┘
```

**操作**：
```
1. Data Source 選 URL
2. 在 "Json Url" 輸入框中輸入完整的 URL
3. 例如：http://localhost:9000/initial_board_wild.json
4. 保存場景
5. 確保 JSON 伺服器正在運行（python serve_json.py）
6. 預覽遊戲
```

**注意**：這時候 Reel 1-5 的輸入框也會**隱藏**。

---

## 💡 常見問題 FAQ

### Q1：為什麼我看不到 Reel 1-5 的輸入框？

**A**：檢查 `Data Source` 是否選擇了 `EDITOR_CONFIG`。

```
如果選了 JSON_FILE 或 URL：
  → Reel 1-5 會隱藏（因為數據來自檔案）
  
如果選了 EDITOR_CONFIG：
  → Reel 1-5 會顯示（可以直接編輯）
```

---

### Q2：Reel 陣列的 Size 可以改嗎？

**A**：不建議修改，必須保持 **Size: 3**（每個 Reel 有 3 個符號）。

```
正確：
Reel 1
  Size: 3  ← 保持 3
  Element 0: [8]
  Element 1: [2]
  Element 2: [7]

錯誤：
Reel 1
  Size: 5  ← ❌ 不要改
  ...
```

如果不小心改了：
1. 系統會自動填充預設值
2. 或在應用時顯示警告
3. 建議重新設定為 3

---

### Q3：符號 ID 可以用任何數字嗎？

**A**：建議使用 1-10 之間的數字（對應遊戲中的符號）。

```
有效的符號 ID：
  1 = 鼓（Scatter）
  2 = 紅包
  3 = 金元寶
  4 = 銅錢
  5 = 扇子
  6 = A
  7 = K
  8 = Q
  9 = J
  10 = Wild（如果遊戲中有）

無效的符號 ID：
  0, 11, 12, ... ← 遊戲中可能沒有對應的符號
```

---

### Q4：Player Balance 是什麼單位？

**A**：單位是「分」（cent），需要除以 100 得到實際金額。

```
輸入：1000000
實際金額：1000000 ÷ 100 = 10000.00 元

輸入：500000
實際金額：500000 ÷ 100 = 5000.00 元

輸入：100
實際金額：100 ÷ 100 = 1.00 元
```

---

### Q5：Description 欄位有什麼用？

**A**：純粹是註解，幫助你記住這個配置的用途。

```
範例：
Description: "測試 Free Spin 觸發"
Description: "演示用美觀盤面"
Description: "低餘額警告測試"

這個文字不會影響遊戲，只是方便開發者識別。
```

---

## 🎬 完整操作流程動畫說明

### 第一次配置（完整步驟）

```
1. 打開 Cocos Creator
   ↓
2. 打開遊戲主場景
   ↓
3. 在 Hierarchy 中右鍵 Canvas → Create Empty Node
   ↓
4. 重新命名節點為 "InitialBoardConfig"
   ↓
5. 確保節點被選中（高亮顯示）
   ↓
6. 在 Inspector 中點擊 "Add Component"
   ↓
7. 搜尋 "InitialBoardConfig"
   ↓
8. 點擊搜尋結果中的組件
   ↓
9. 組件出現在 Inspector 中
   ↓
10. 找到 "Data Source" 下拉選單
    ↓
11. 選擇 "EDITOR_CONFIG"
    ↓
12. 向下捲動，看到 Reel 1-5
    ↓
13. 點擊 "Reel 1" 展開
    ↓
14. 點擊 "Element 0" 的輸入框
    ↓
15. 輸入 8，按 Enter
    ↓
16. 點擊 "Element 1" 的輸入框
    ↓
17. 輸入 2，按 Enter
    ↓
18. 點擊 "Element 2" 的輸入框
    ↓
19. 輸入 7，按 Enter
    ↓
20. 重複步驟 13-19 配置 Reel 2-5
    ↓
21. 向下捲動到 "Player Balance"
    ↓
22. 點擊輸入框，輸入 1000000
    ↓
23. 在 "Description" 輸入 "測試盤面"
    ↓
24. 確認 "Auto Apply On Start" 已勾選 ✓
    ↓
25. 確認 "Verbose" 已勾選 ✓（建議開啟）
    ↓
26. 按 Ctrl+S 保存場景
    ↓
27. 點擊預覽按鈕（瀏覽器圖示）
    ↓
28. 等待遊戲載入
    ↓
29. 檢查初始盤面是否正確顯示 ✅
```

---

### 修改現有配置（快速步驟）

```
1. 選中 InitialBoardConfig 節點
   ↓
2. 在 Inspector 中找到要修改的 Reel
   ↓
3. 點擊輸入框
   ↓
4. 修改數字
   ↓
5. 按 Ctrl+S 保存
   ↓
6. 重新預覽
   ↓
7. 確認修改生效 ✅
```

---

## 📋 快速檢查清單

配置前檢查：
- [ ] 已打開遊戲主場景
- [ ] 已創建 InitialBoardConfig 節點
- [ ] 已添加 InitialBoardConfig 組件
- [ ] Data Source 已選擇 EDITOR_CONFIG

配置時檢查：
- [ ] Reel 1-5 都已展開並配置
- [ ] 每個 Reel 都有 3 個數字
- [ ] 數字在 1-10 範圍內
- [ ] Player Balance 已設定（單位：分）
- [ ] Auto Apply On Start 已勾選
- [ ] Verbose 已勾選（建議）

保存前檢查：
- [ ] 所有數值都已正確輸入
- [ ] Description 已填寫（可選）
- [ ] 場景已保存（Ctrl+S）

預覽時檢查：
- [ ] 遊戲正常啟動
- [ ] 控制台有成功日誌
- [ ] 盤面符號正確顯示

---

## 🎉 總結

### 編輯器配置 = 直接輸入數字，不是輸入路徑！

```
✅ 正確理解：
   在編輯器屬性面板的輸入框中
   直接輸入符號 ID 數字（1-10）
   
   Reel 1: [8, 2, 7]
           ↑  ↑  ↑
           直接輸入這些數字！

❌ 錯誤理解：
   輸入檔案路徑
   輸入 "game_output/initial_board.json"
   （這是 Data Source = URL 時才需要的）
```

### 三種方式總結

| 方式 | Data Source | 配置內容 | 說明 |
|------|-------------|---------|------|
| **方式 1** | EDITOR_CONFIG | 直接輸入數字 | ⭐ 最簡單 |
| **方式 2** | JSON_FILE | 選擇 JSON 檔案 | 版本控制 |
| **方式 3** | URL | 輸入 URL 路徑 | 動態配置 |

---

**現在清楚了嗎？** 😊

如果還有任何疑問，歡迎隨時詢問！

---

**相關文檔**：
- [5分鐘快速開始](Initial-Board-5min-Start.md)
- [完整使用指南](Initial-Board-Editor-Config-Guide.md)
- [快速參考卡](Initial-Board-Quick-Card.md)
