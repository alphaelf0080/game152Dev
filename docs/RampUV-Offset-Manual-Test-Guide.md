# 🧪 Ramp UV Offset 手動測試指南

## 📋 測試目的

收集不同 ContentSize 下的最佳 offset 數據，推導通用計算公式

---

## ✅ 測試步驟

### 步驟 1: 啟用手動輸入模式

在 `RampShaderResetInspector` 組件的 Inspector 面板中：

```
1. ✓ 勾選 "Enable Manual Input" (啟用手動輸入模式)
2. ✗ 取消勾選 "Auto Calculate Offset" (關閉自動計算)
```

這樣你就能看到：
- `Manual Offset X` 滑動條
- `Manual Offset Y` 滑動條
- `Record Test Data` 按鈕

---

### 步驟 2: 設定測試尺寸

調整節點的 `UITransform` → `Content Size`

**建議測試尺寸**：
```
測試組 1: [1200, 300]  ← 你當前的截圖
測試組 2: [696, 540]   ← 已知參考
測試組 3: [512, 512]   ← 正方形
測試組 4: [1024, 768]  ← 4:3 比例
測試組 5: [1920, 1080] ← 16:9 比例
```

---

### 步驟 3: 手動調整 Offset

1. **調整 `Manual Offset X` 滑動條**
   - 觀察場景視圖中的 Ramp 效果
   - 找到水平方向的最佳值

2. **調整 `Manual Offset Y` 滑動條**
   - 觀察場景視圖中的 Ramp 效果
   - 找到垂直方向的最佳值

**目標效果**：
- Ramp 應該從 1（亮）→ 0（暗）正確漸變
- 沒有重複或錯位
- 對齊到你期望的位置

---

### 步驟 4: 記錄數據

當你找到最佳 offset 後：

1. **點擊 `Record Test Data`**（勾選後會自動取消）
2. **打開 Console 面板**
3. **複製輸出的數據**

Console 會輸出類似這樣的格式：

```
═══════════════════════════════════════
🧪 測試數據記錄
═══════════════════════════════════════
📏 ContentSize: [1200, 300]
📍 最佳 Offset: [0.31, 0.24]

📊 分析數據:
   像素偏移: [372.00, 72.00] px
   0.5 - offset: [0.1900, 0.2600]
   比例係數: [0.1900, 0.2600]
   offset/size: [0.00025833, 0.00080000]
   寬高比 (W/H): 4.0000
   Offset比 (X/Y): 1.2917

📋 複製用格式:
   { w: 1200, h: 300, ox: 0.31, oy: 0.24 },
═══════════════════════════════════════
```

---

## 📊 數據收集表格

請填寫以下表格（複製到文檔或 Excel）：

```markdown
| ContentSize | 最佳 Offset | 像素偏移 | 寬高比 | Offset比 |
|-------------|------------|---------|--------|---------|
| [1200, 300] | [?, ?]     | [?, ?]  | 4.0    | ?       |
| [696, 540]  | [0.31, 0.24] | [215.76, 129.60] | 1.289 | 1.292 |
| [512, 512]  | [?, ?]     | [?, ?]  | 1.0    | ?       |
| [1024, 768] | [?, ?]     | [?, ?]  | 1.333  | ?       |
| [1920, 1080]| [?, ?]     | [?, ?]  | 1.778  | ?       |
```

---

## 🔍 尋找規律的方法

當你收集了 3+ 組數據後，檢查以下可能的規律：

### 可能性 1: Offset 是固定常數
```
所有 ContentSize 的最佳 offset 都是 [0.31, 0.24]
→ 公式: offset = [0.31, 0.24]  // 常數
```

### 可能性 2: 像素偏移是固定的
```
像素偏移都接近某個值，例如 [215.76, 129.60]
→ 公式: offset = [215.76/width, 129.60/height]
```

### 可能性 3: 比例係數是固定的
```
0.5 - offset 的值是固定的，例如 [0.19, 0.26]
→ 公式: offset = [0.5 - 0.19, 0.5 - 0.26]
```

### 可能性 4: 與寬高比相關
```
offset 與 width/height 的比例有關
→ 公式: offset = f(width/height)
```

---

## 💡 測試技巧

### 如何判斷"最佳 Offset"？

1. **視覺對齊**：
   - Ramp 的起始點應該在你期望的位置
   - 例如：從左邊 31% 的位置開始

2. **效果連續**：
   - 1→0 的漸變應該平滑連續
   - 沒有突然的跳躍或斷層

3. **參考紅色箭頭**：
   - 從你的截圖看，紅色箭頭指向 Ramp 的某個特徵點
   - 確保這個特徵點的位置正確

---

## 🎯 當前測試

### 測試組 1: [1200, 300]（你的截圖）

請完成：

1. **調整 `Manual Offset X`** 到最佳值 → X = ?
2. **調整 `Manual Offset Y`** 到最佳值 → Y = ?
3. **點擊 `Record Test Data`** → 複製 Console 輸出
4. **貼到回覆中** → 我會幫你分析

---

## 📝 示例數據格式

**範例 1**（已知）:
```javascript
{ w: 696, h: 540, ox: 0.31, oy: 0.24 },
```

**範例 2**（待測試）:
```javascript
{ w: 1200, h: 300, ox: ???, oy: ??? },
```

---

## 🚀 快速開始

**立即測試 [1200, 300]**：

```
1. ContentSize 已經是 [1200, 300] ✓
2. 啟用 "Enable Manual Input" ✓
3. 關閉 "Auto Calculate Offset" ✓
4. 調整 Manual Offset X/Y 滑動條
5. 找到最佳值
6. 點擊 "Record Test Data"
7. 複製 Console 輸出給我
```

**目標**：找出 [1200, 300] 尺寸下的最佳 offset！

---

*創建日期: 2025-10-17*
*狀態: 等待第一組測試數據*
