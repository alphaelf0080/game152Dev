# Graphics Editor - 图形变换快速参考

## 🎯 功能总览

| 功能 | 状态 | 说明 |
|------|------|------|
| 选择图形 | ✅ | 右键或 Ctrl+点击选中 |
| 移动图形 | ✅ | 拖拽中心点（黄色圆点） |
| 缩放图形 | ✅ | 拖拽边中点或角 |
| 保持比例 | ✅ | Shift + 拖拽 |
| 中心缩放 | ✅ | Alt + 拖拽 |
| 像素对齐 | ✅ | 工具栏复选框控制 |
| 尺寸显示 | ✅ | 实时显示宽高标签 |
| 快捷键 | ✅ | Enter/Esc/Delete 支持 |

## 🖱️ 鼠标操作

```
操作                      按键        结果
────────────────────────────────────────────
选择图形                 右键         显示变换句柄
                        Ctrl+点击

移动图形                 拖拽中心点    整体移动

缩放（自由）            拖拽边或角    自由缩放

缩放（保持比例）        Shift+拖拽    保持长宽比

缩放（从中心）          Alt+拖拽      从中心点缩放

精确缩放（比例+中心）   Shift+Alt+拖拽 组合效果
```

## ⌨️ 快捷键

```
快捷键          功能                    备注
────────────────────────────────────────────────
Shift           保持宽高比例              变换时按住
Alt             从中心点缩放              变换时按住
Enter           确认变换                  完成调整
Esc             取消变换                  恢复原状
Delete          删除选中图形              立即删除

Shift+Alt       组合：比例+中心缩放       同时按住两键
```

## 🎨 变换句柄说明

```
        ┌─────────────────┐
        │  NW      N  NE  │
        │   ◼      ◼   ◼  │
        │    ┌──────────┐ │
    W ◼ │    │          │ │ E ◼
        │    └──────────┘ │
        │   ◼      ◼   ◼  │
        │  SW      S  SE  │
        └─────────────────┘
        
NW/NE/SW/SE   4个角句柄      对角线缩放
N/S/E/W       4个边中点      水平/竖直缩放
中心(黄色圆点)              移动整个图形
```

## 📍 光标指示

| 句柄 | 光标 | 操作 |
|------|------|------|
| NW、SE | ↘ | 对角线缩放 |
| NE、SW | ↙ | 对角线缩放（反向） |
| N、S | ↕ | 竖直缩放 |
| E、W | ↔ | 水平缩放 |
| 中心 | ⇄ | 移动 |

## 📊 尺寸显示

- **宽度标签**：`W: 120` (图形上方)
- **高度标签**：`H: 80` (图形左侧，旋转显示)
- 自动随变换更新
- 精确到像素级

## 🔧 配置选项

### 对齐像素 (Snap to Pixel)

**位置**：工具栏 → 变換 → ☑ 对齐像素

- ☑ **启用**（默认）
  - 所有坐标和尺寸对齐到整数
  - 适合游戏资源导出
  
- ☐ **禁用**
  - 允许浮点数坐标
  - 用于精确调整

## 💡 使用技巧

### 1. 精确调整
```
场景: 需要精确到像素的调整
步骤:
1. 选中图形
2. 确保"对齐像素"已启用
3. 拖拽进行调整
4. 坐标自动对齐
```

### 2. 保持长宽比的缩放
```
场景: 缩放图形但不变形
步骤:
1. 选中图形
2. 按住 Shift 键
3. 拖拽任意角句柄
4. 松开鼠标完成
```

### 3. 从中心点缩放
```
场景: 需要从图形中心向外/向内缩放
步骤:
1. 选中图形
2. 按住 Alt 键
3. 拖拽边中点或角
4. 图形从中心均匀缩放
```

### 4. 组合操作（比例+中心）
```
场景: 保持比例且从中心缩放
步骤:
1. 选中图形
2. 同时按住 Shift + Alt
3. 拖拽任意角句柄
4. 获得最高精度调整
```

### 5. 快速取消错误操作
```
场景: 进行了不想要的变换
步骤:
1. 按 Esc 键
2. 图形立即恢复原状
（无需撤销）
```

### 6. 删除图形
```
场景: 删除选中的图形
步骤1:
1. 选中图形
2. 按 Delete 键

或步骤2:
1. 选中图形
2. 点击"刪除選中"按钮
```

## 🎬 完整流程示例

### 示例1：调整矩形大小并保持比例

```
1. 右键点击矩形                → 显示蓝色虚线框和句柄
2. 按住 Shift 键
3. 拖拽右下角句柄向右下        → 显示新的尺寸标签
4. 松开鼠标                    → 变换完成（宽高保持原有比例）
5. 点击其他位置或按 Esc        → 取消选中
```

### 示例2：从中心点缩小图形

```
1. Ctrl+点击圆形                → 显示变换句柄
2. 按住 Alt 键
3. 拖拽上边中点向下            → 从中心点缩小
4. 松开鼠标                    → 图形均匀缩小
5. 按 Enter 确认                → 保存变换
```

### 示例3：精确像素调整

```
1. 确保工具栏的"对齐像素"已启用
2. 选中需要调整的图形
3. 拖拽到目标位置/大小
4. 坐标自动对齐：
   - 坐标: (123.7, 456.3) → (124, 456)
   - 大小: (99.9, 199.5) → (100, 200)
5. 导出代码使用整数坐标
```

## ⚠️ 注意事项

1. **无法同时变换多个图形**
   - 一次只能变换一个选中的图形
   
2. **浮点数坐标**
   - 禁用"对齐像素"时会产生浮点坐标
   - 导出时需要手动四舍五入
   
3. **Esc 后无法恢复**
   - Esc 只能恢复当前正在进行的变换
   - 已完成的变换无法通过 Esc 恢复
   - 使用撤销按钮 (Ctrl+Z) 撤销之前的操作
   
4. **触摸设备不支持**
   - 目前仅支持鼠标操作
   - 触摸操作将来支持

## 📈 性能考虑

- 大型图形集合时变换可能有轻微延迟
- 禁用"对齐像素"可以略微提升性能
- 画布缩放级别不影响变换速度

## 🔗 相关文档

- [Graphics Editor 完整文档](GraphicsEditor-Transform-Features.md)
- [SkeletalAnimationController 按钮修复](SkeletalAnimationController-Button-Fix.md)

---

**最后更新**: 2025年10月28日
**版本**: 1.0.0
**状态**: ✅ 已发布
